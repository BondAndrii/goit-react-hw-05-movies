"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[135],{7135:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(5861),a=r(9439),i=r(7757),s=r.n(i),o=r(2791),c=r(1087),l=r(7689),u=r(4390),p="MovieDetails_GoBack__yiz0d",v="MovieDetails_Banner__DKSTa",d="MovieDetails_StandartInform__m2-OU",h="MovieDetails_Inform__XDs3z",f="MovieDetails_Navigation__WwkDP",w=r(4732),m=r(643),g=r(184),x=function(){var e,t,r,i,x,_=(0,o.useState)(!1),j=(0,a.Z)(_,2),y=j[0],b=j[1],k=(0,o.useState)(null),Z=(0,a.Z)(k,2),D=Z[0],S=Z[1],O=(0,o.useState)([]),U=(0,a.Z)(O,2),M=U[0],N=U[1],C=(0,l.UO)().movieId,E=(0,l.TH)(),F=(0,o.useRef)(null!==(e=null===(t=E.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");(0,o.useEffect)((function(){(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),S(null),e.next=5,u.Z.fetchDetails(C);case 5:t=e.sent,N(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S(!0);case 12:return e.prev=12,b(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()}),[C]);var B=Math.round(10*(null===M||void 0===M?void 0:M.vote_average)),G=null===M||void 0===M||null===(r=M.genres)||void 0===r?void 0:r.map((function(e){return e.name})).join(", ");return(0,g.jsxs)(g.Fragment,{children:[y&&(0,g.jsx)(m.p2,{height:"80",width:"80",radius:"9",color:"green",ariaLabel:"three-dots-loading",wrapperStyle:!0,wrapperClass:!0}),D&&!y&&(0,g.jsx)("h2",{style:{textAlign:"center"},children:"\u0421\u043e\u0440\u044f\u043d, \u043f\u0440\u043e\u0456\u0437\u043e\u0448\u043e\u043b \u043e\u0442\u0440\u0456\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u0438\u0439 \u043f\u043e\u0456\u0441\u043a. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437"}),!D&&!y&&M&&(0,g.jsxs)("div",{children:[(0,g.jsx)(c.rU,{className:p,to:F.current,children:" Go Back "}),(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)("img",{className:v,src:null!==M&&void 0!==M&&M.poster_path?"https://image.tmdb.org/t/p/original".concat(null===M||void 0===M?void 0:M.poster_path):w,alt:(null===M||void 0===M?void 0:M.title)||(null===M||void 0===M?void 0:M.original_title)}),(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("h2",{children:(null===M||void 0===M?void 0:M.title)||(null===M||void 0===M?void 0:M.original_title)}),(0,g.jsxs)("p",{children:["User score: ",B]}),(null===M||void 0===M||null===(i=M.overview)||void 0===i?void 0:i.length)>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{children:"Overview"}),(0,g.jsx)("p",{children:null===M||void 0===M?void 0:M.overview})]}),(null===M||void 0===M||null===(x=M.genres)||void 0===x?void 0:x.length)>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h4",{children:"Genres"}),(0,g.jsx)("p",{children:G})]})]})]})]}),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("nav",{className:f,children:[(0,g.jsx)("h2",{children:"Additional information"}),(0,g.jsx)(c.rU,{to:"cast",children:"Cast"}),(0,g.jsx)(c.rU,{to:"reviews",children:"Reviews"})]})}),(0,g.jsx)(o.Suspense,{fallback:(0,g.jsx)(m.p2,{height:"80",width:"80",radius:"9",color:"green",ariaLabel:"three-dots-loading",wrapperStyle:!0,wrapperClass:!0}),children:(0,g.jsx)(l.j3,{})})]})}},4390:function(e,t,r){var n=r(5861),a=r(7757),i=r.n(a),s=r(1243),o="278bf75944205bdb0a6474cdc0be106c";function c(){return(c=(0,n.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(o));case 3:return t=e.sent,r=t.data,e.abrupt("return",r.results);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, we don`t have any movies");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l(){return(l=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(o,"&query=").concat(t,"&language=en-US&page=1&per_page=12&include_adult=false"));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, we don`t have any movies");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(){return(u=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(o,"&language=en-US"));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, we don`t have any movies");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function p(){return(p=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(o));case 3:return r=e.sent,n=r.data,e.abrupt("return",n.cast);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, there is no cast movie");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(){return(v=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(o));case 3:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, we don`t have any reviews");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var d={fetchTop:function(){return c.apply(this,arguments)},fetchMovie:function(e){return l.apply(this,arguments)},fetchDetails:function(e){return u.apply(this,arguments)},fetchCast:function(e){return p.apply(this,arguments)},fetchReviews:function(e){return v.apply(this,arguments)}};t.Z=d},4732:function(e,t,r){e.exports=r.p+"static/media/NoPoster.8c29f9b71a6a964cf022.png"}}]);
//# sourceMappingURL=135.4fb62450.chunk.js.map