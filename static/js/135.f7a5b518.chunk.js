"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[135],{135:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(861),a=n(439),i=n(757),s=n.n(i),o=n(791),c=n(87),l=n(689),u=n(390),v="MovieDetails_GoBack__yiz0d",p="MovieDetails_Banner__DKSTa",d="MovieDetails_StandartInform__m2-OU",h="MovieDetails_Inform__XDs3z",f="MovieDetails_Navigation__WwkDP",m=n(732),g=n(184),w=function(){var e,t,n,i,w,x=(0,o.useState)(!1),_=(0,a.Z)(x,2),j=_[0],y=_[1],k=(0,o.useState)(null),b=(0,a.Z)(k,2),Z=b[0],D=b[1],O=(0,o.useState)([]),S=(0,a.Z)(O,2),U=S[0],M=S[1],N=(0,l.UO)().movieId,E=(0,l.TH)(),C=(0,o.useRef)(null!==(e=null===(t=E.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");(0,o.useEffect)((function(){(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),D(null),e.next=5,u.Z.fetchDetails(N);case 5:t=e.sent,M(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()}),[N]);var F=Math.round(10*(null===U||void 0===U?void 0:U.vote_average)),T=null===U||void 0===U||null===(n=U.genres)||void 0===n?void 0:n.map((function(e){return e.name})).join(", ");return(0,g.jsxs)(g.Fragment,{children:[j&&(0,g.jsx)("div",{children:"Loading..."}),Z&&!j&&(0,g.jsx)("h2",{style:{textAlign:"center"},children:"Try again."}),!Z&&!j&&U&&(0,g.jsxs)("div",{children:[(0,g.jsx)(c.rU,{className:v,to:C.current,children:" Go Back "}),(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)("img",{className:p,src:null!==U&&void 0!==U&&U.poster_path?"https://image.tmdb.org/t/p/original".concat(null===U||void 0===U?void 0:U.poster_path):m,alt:(null===U||void 0===U?void 0:U.title)||(null===U||void 0===U?void 0:U.original_title)}),(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("h2",{children:(null===U||void 0===U?void 0:U.title)||(null===U||void 0===U?void 0:U.original_title)}),(0,g.jsxs)("p",{children:["User score: ",F]}),(null===U||void 0===U||null===(i=U.overview)||void 0===i?void 0:i.length)>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{children:"Overview"}),(0,g.jsx)("p",{children:null===U||void 0===U?void 0:U.overview})]}),(null===U||void 0===U||null===(w=U.genres)||void 0===w?void 0:w.length)>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h4",{children:"Genres"}),(0,g.jsx)("p",{children:T})]})]})]})]}),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("nav",{className:f,children:[(0,g.jsx)("h2",{children:"Additional information"}),(0,g.jsx)(c.rU,{to:"cast",state:{from:E},children:"Cast"}),(0,g.jsx)(c.rU,{to:"reviews",state:{from:E},children:"Reviews"})]})}),(0,g.jsx)(o.Suspense,{fallback:(0,g.jsx)("div",{children:"Loading..."}),children:(0,g.jsx)(l.j3,{})})]})}},390:function(e,t,n){var r=n(861),a=n(757),i=n.n(a),s=n(243),o="278bf75944205bdb0a6474cdc0be106c";function c(){return(c=(0,r.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(o));case 3:return t=e.sent,n=t.data,e.abrupt("return",n.results);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, we don`t have any movies");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(o,"&query=").concat(t,"&language=en-US&page=1&per_page=12&include_adult=false"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, we don`t have any movies");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(){return(u=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(o,"&language=en-US"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, we don`t have any movies");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(){return(v=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(o));case 3:return n=e.sent,r=n.data,e.abrupt("return",r.cast);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, there is no cast movie");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(o));case 3:return n=e.sent,r=n.data,e.abrupt("return",r.results);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Oops, we don`t have any reviews");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var d={fetchTop:function(){return c.apply(this,arguments)},fetchMovie:function(e){return l.apply(this,arguments)},fetchDetails:function(e){return u.apply(this,arguments)},fetchCast:function(e){return v.apply(this,arguments)},fetchReviews:function(e){return p.apply(this,arguments)}};t.Z=d},732:function(e,t,n){e.exports=n.p+"static/media/NoPoster.8c29f9b71a6a964cf022.png"}}]);
//# sourceMappingURL=135.f7a5b518.chunk.js.map