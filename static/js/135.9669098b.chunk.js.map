{"version":3,"file":"static/js/135.9669098b.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"GoBack\":\"MovieDetails_GoBack__yiz0d\",\"Banner\":\"MovieDetails_Banner__DKSTa\",\"StandartInform\":\"MovieDetails_StandartInform__m2-OU\",\"Inform\":\"MovieDetails_Inform__XDs3z\",\"Navigation\":\"MovieDetails_Navigation__WwkDP\",\"Genres\":\"MovieDetails_Genres__6YSgc\",\"GenresItem\":\"MovieDetails_GenresItem__dF1md\"};","import React, { useEffect, useRef, useState } from \"react\";\n\nimport {\n    Link, Outlet,\n    useLocation,\n    useParams\n} from \"react-router-dom\";\n\nimport  api  from 'services/api';\n\nimport styles from \"./MovieDetails.module.css\"\n\nimport NoPoster from \"../../assets/NoPoster.png\"\n\nimport { Suspense } from \"react\";\n\n\n\nconst MovieDetails = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [movieData, setMovieData] = useState([]);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n  const errorMessage = \"Сорян, проізошол отріцательний поіск. Спробуйте ще раз\";\n\n  useEffect(() => {\n    (async () => {\n      try {\n        setIsLoading(true);\n        setError(null);\n\n        const data = await api.fetchDetails(movieId);\n        setMovieData(data);\n      } catch (error) {\n        setError(true)\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [movieId]);\n\n    \nconst Score = Math.round( movieData?.vote_average * 10);\nconst Genres = movieData?.genres?.map(genre => genre.name).join(', ');\n\n  return (\n    <>\n       {isLoading && <div>Loading...</div>}\n      {error && !isLoading && (\n        <h2 style={{ textAlign: 'center' }}>{errorMessage}</h2>)}\n      {!error && !isLoading && movieData && (\n        <div>\n          <Link className={styles.GoBack} to={backLinkLocationRef.current}  > Go Back </Link>\n          <div className={styles.StandartInform}>\n            <img\n               className={styles.Banner}\n              src={\n                movieData?.poster_path\n                  ? `https://image.tmdb.org/t/p/original${movieData?.poster_path}`\n                  : NoPoster\n              }\n              alt={movieData?.title || movieData?.original_title}              \n            />\n            <div className={styles.Inform}>\n            <h2>{movieData?.title || movieData?.original_title}</h2>\n            <p>User score: {Score}</p>\n            {movieData?.overview?.length > 0 && (\n              <>\n                <h3>Overview</h3>\n                <p>{movieData?.overview}</p>\n              </>\n            )}\n            {movieData?.genres?.length > 0 && (\n              <>\n                <h4>Genres</h4>\n                <p>{Genres}</p>\n              </>\n            )}\n          </div>\n          </div>          \n        </div>\n      )}\n      <>\n        \n        <nav className={styles.Navigation}>       \n            <h2>Additional information</h2>\n              <Link to=\"cast\" state={{ from: location }}>Cast</Link>         \n              <Link to=\"reviews\" state={{ from: location }}>Reviews</Link>           \n        </nav>\n      </>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;","import axios from \"axios\";\n\nconst key = '278bf75944205bdb0a6474cdc0be106c'; \n\nasync function fetchTop() {\n    try {\n        const {data} = await axios.get(`https://api.themoviedb.org/3/trending/all/day?api_key=${key}`)\n        return data.results\n    } catch (error) {\n        throw new Error('Oops, we don`t have any movies');\n    }\n}\n\nasync function fetchMovie(filmName) {\n    try {\n        const {data} = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${key}&query=${filmName}&language=en-US&page=1&per_page=12&include_adult=false`)\n        return data;\n    } catch (error) {\n        throw new Error('Oops, we don`t have any movies');\n    }\n}\n\nasync function fetchDetails(id) {\n    try {\n        const {data} = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=${key}&language=en-US`);\n        return data;\n    } catch (error) {\n        throw new Error('Oops, we don`t have any movies');\n    }\n}\nasync function fetchCast (movieId) {\n  try {\n    const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${key}`);\n    return data.cast;\n  } catch (error) {\n    throw new Error('Oops, there is no cast movie');\n  }\n};\n\nasync function  fetchReviews(movieId) {\n  try {\n    const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${key}`);\n    return data.results;\n  } catch (error) {\n    throw new Error('Oops, we don`t have any reviews');\n  }\n};\n    \nconst api = {\n    fetchTop,\n    fetchMovie,\n    fetchDetails,\n    fetchCast,\n    fetchReviews,    \n}\n\n\nexport default api;"],"names":["useState","isLoading","setIsLoading","error","setError","movieData","setMovieData","movieId","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","api","data","Score","Math","round","vote_average","Genres","genres","map","genre","name","join","style","textAlign","className","styles","to","current","src","poster_path","NoPoster","alt","title","original_title","overview","length","Suspense","fallback","key","fetchTop","axios","results","Error","fetchMovie","filmName","fetchDetails","id","fetchCast","cast","fetchReviews"],"sourceRoot":""}